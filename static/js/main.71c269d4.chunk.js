(this["webpackJsonpr-blogs"]=this["webpackJsonpr-blogs"]||[]).push([[0],{37:function(e,t,n){},48:function(e,t,n){},49:function(e,t,n){},50:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n(0),o=n(10),s=n.n(o),i=(n(37),n(8)),l=n(2),a=n(6);var u=function(){return Object(r.jsxs)("div",{className:"col-lg-8 offset-lg-2",children:[Object(r.jsx)("h1",{children:"Welcome to  R-Blogs"}),Object(r.jsx)("p",{children:Object(r.jsx)(i.b,{to:"/users",children:"Users"})}),Object(r.jsx)("p",{children:Object(r.jsx)(i.b,{to:"/blogs",children:"Blogs"})}),Object(r.jsx)("p",{children:Object(r.jsx)(i.b,{to:"/login",children:"Logout"})})]})},j=n(16),d=n(14),b=n(11),g=n(5),h=n(25),O=(n(47),"USERS_LOGIN_REQUEST"),f="USERS_LOGIN_SUCCESS",m="USERS_LOGIN_FAILURE",p="USERS_LOGOUT",x="USERS_GETALL_REQUEST",v="USERS_GETALL_SUCCESS",S="USERS_GETALL_FAILURE",E="BLOGS_REQUEST",L="BLOGS_SUCCESS",y="BLOGS_FAILURE",w="BLOG_DETAILS",I="DETAILS_SUCCESS",N="DETAILS_FAILURE",U={login:function(e,t){return fetch("https://jsonplaceholder.typicode.com/users").then(C).then((function(e){return e}))},logout:A,getAll:function(){return fetch("https://jsonplaceholder.typicode.com/users").then(C)},getAllBlogs:function(){return fetch("https://jsonplaceholder.typicode.com/posts").then(C)},blogDetails:function(e){return fetch("https://jsonplaceholder.typicode.com/posts/".concat(e)).then(C)}};function A(){localStorage.removeItem("user")}function C(e){return e.text().then((function(t){var n=t&&JSON.parse(t);if(!e.ok){401===e.status&&A();var r=n&&n.message||e.statusText;return Promise.reject(r)}return n}))}var _={login:function(e,t){return function(r){U.login(e,t).then((function(c){var o=c.filter((function(n){return n.email.toLowerCase().includes(e.toLowerCase())&&n.username.toLowerCase().includes(t.toLowerCase())}));console.log("resrs",o),o.length>0?(localStorage.setItem("user",JSON.stringify(c)),r(function(e){return{type:f,user:e}}(o)),window.location.pathname="/home"):r(n("User not exist"))}),(function(e){r(n(e.toString()))}))};function n(e){return{type:m,error:e}}},logout:function(){return U.logout(),{type:p}},getAll:function(){return function(e){e({type:x}),U.getAll().then((function(t){return e(function(e){return{type:v,users:e}}(t))}),(function(t){return e(function(e){return{type:S,error:e}}(t.toString()))}))}},getAllBlogs:function(){return function(e){e({type:E}),U.getAllBlogs().then((function(t){return e(function(e){return{type:L,blogs:e}}(t))}),(function(t){return e(function(e){return{type:y,error:e}}(t.toString()))}))}},blogDetails:function(e){return function(t){t({type:w}),U.blogDetails(e).then((function(e){return t(function(e){return{type:I,blogs:e}}(e))}),(function(e){return t(function(e){return{type:N,error:e}}(e.toString()))}))}}};var R=function(e){var t=Object(c.useState)({email:"Shanna@melissa.tv",password:"Antonette"}),n=Object(b.a)(t,2),o=n[0],s=n[1],i=Object(c.useState)(!1),l=Object(b.a)(i,2),a=l[0],u=l[1],O=o.email,f=o.password,m=Object(g.c)((function(e){return e.authentication.loggingIn})),p=Object(g.b)();Object(c.useEffect)((function(){p(_.logout())}),[]);var x=function(e){var t=e.target,n=t.name,r=t.value;s((function(e){return Object(d.a)(Object(d.a)({},e),{},Object(j.a)({},n,r))}))};return Object(r.jsx)("div",{className:"container login-container",children:Object(r.jsx)("div",{class:"row",children:Object(r.jsxs)("div",{class:"col-md-6 login-form-1",children:[Object(r.jsx)(h.a,{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0}),Object(r.jsx)("h2",{children:"Login"}),Object(r.jsxs)("form",{name:"form",onSubmit:function(e){(e.preventDefault(),u(!0),O&&f)&&(new RegExp(/^(("[\w-\s]+")|([\w-]+(?:\.[\w-]+)*)|("[\w-\s]+")([\w-]+(?:\.[\w-]+)*))(@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$)|(@\[?((25[0-5]\.|2[0-4][0-9]\.|1[0-9]{2}\.|[0-9]{1,2}\.))((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\.){2}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\]?$)/i).test(O)?p(_.login(O,f)):h.b.error("Please enter your valid email address."))},children:[Object(r.jsxs)("div",{className:"form-group",children:[Object(r.jsx)("input",{type:"text",name:"email",value:O,onChange:x,className:"form-control"+(a&&!O?" is-invalid":"")}),a&&!O&&Object(r.jsx)("div",{className:"invalid-feedback",children:"Email is required"})]}),Object(r.jsxs)("div",{className:"form-group",children:[Object(r.jsx)("input",{type:"password",name:"password",value:f,onChange:x,className:"form-control"+(a&&!O?" is-invalid":"")}),a&&!f&&Object(r.jsx)("div",{className:"invalid-feedback",children:"Password is required"})]}),Object(r.jsx)("div",{className:"form-group",children:Object(r.jsxs)("button",{className:"btn btn-primary",children:[m&&Object(r.jsx)("span",{className:"spinner-border spinner-border-sm mr-1"}),"Login"]})})]})]})})})},B=function(){var e=Object(g.c)((function(e){return e.users})),t=Object(g.b)(),n=Object(c.useState)(""),o=Object(b.a)(n,2),s=(o[0],o[1],Object(c.useState)(e)),i=Object(b.a)(s,2);i[0],i[1];return Object(c.useEffect)((function(){t(_.getAll())}),[]),Object(r.jsxs)("div",{children:[e.loading&&Object(r.jsx)("em",{children:"Loading users..."}),Object(r.jsx)("table",{className:"table table-bordered table-hover",width:"100",children:Object(r.jsx)("tbody",{children:Object(r.jsx)("tr",{children:e&&e.items&&e.items.map((function(e,t){return Object(r.jsxs)("tr",{children:[Object(r.jsx)("td",{children:e.id},e.id),Object(r.jsx)("td",{children:e.name}),Object(r.jsx)("td",{children:e.username}),Object(r.jsx)("td",{children:e.email}),Object(r.jsx)("td",{children:e.phone}),Object(r.jsx)("td",{children:e.address.street}),Object(r.jsx)("td",{children:e.address.zipcode}),Object(r.jsx)("td",{children:e.website}),Object(r.jsx)("td",{children:e.company.name})]})}))})})})]})},T=function(){var e=Object(g.b)(),t=Object(c.useState)(""),n=Object(b.a)(t,2),o=(n[0],n[1],Object(g.c)((function(e){return e.blogs}))),s=Object(c.useState)(o.items),l=Object(b.a)(s,2);l[0],l[1];return console.log("searchResults",o),Object(c.useEffect)((function(){e(_.getAllBlogs())}),[]),Object(r.jsxs)("div",{children:[o.loading&&Object(r.jsx)("em",{children:"Loading blogs..."}),Object(r.jsx)("table",{className:"table table-bordered table-hover",width:"100",children:Object(r.jsx)("tbody",{children:Object(r.jsx)("tr",{children:o&&o.items&&o.items.map((function(e,t){return Object(r.jsxs)("tr",{children:[Object(r.jsx)("td",{children:e.id}),Object(r.jsx)("td",{children:Object(r.jsx)(i.b,{to:"/blogs/".concat(e.id),children:e.title})}),Object(r.jsx)("td",{children:e.body})]})}))})})})]})};var G=function(e){var t=e.match,n=Object(g.c)((function(e){return e.blogs})),o=Object(g.b)(),s=t.params;return Object(c.useEffect)((function(){console.log(s.id),o(_.blogDetails(s.id))}),[]),console.log("blog",n),Object(r.jsxs)("div",{className:"col-lg-8 offset-lg-2",children:[Object(r.jsx)("h1",{children:n.item&&n.item.title}),n.loading&&Object(r.jsx)("em",{children:"Loading blogs..."}),Object(r.jsx)("p",{children:n.item&&n.item.body})]})},D=(n(48),n(49),n(29));var F=function(e){var t=e.component,n=(e.roles,Object(D.a)(e,["component","roles"]));return Object(r.jsx)(l.b,Object(d.a)(Object(d.a)({},n),{},{render:function(e){return localStorage.getItem("user")?Object(r.jsx)(t,Object(d.a)({},e)):Object(r.jsx)(l.a,{to:{pathname:"/login",state:{from:e.location}}})}}))};var k=function(){var e=Object(a.a)();return Object(r.jsx)("div",{className:"App",children:Object(r.jsx)(i.a,{history:e,children:Object(r.jsxs)(l.d,{children:[Object(r.jsx)(F,{exact:!0,path:"/home",component:u}),Object(r.jsx)(F,{exact:!0,path:"/users",component:B}),Object(r.jsx)(F,{exact:!0,path:"/blogs",component:T}),Object(r.jsx)(F,{exact:!0,path:"/blogs/:id",component:G}),Object(r.jsx)(l.b,{path:"/login",component:R}),Object(r.jsx)(l.a,{from:"*",to:"/login"})]})})})},P=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,53)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,o=t.getLCP,s=t.getTTFB;n(e),r(e),c(e),o(e),s(e)}))},J=n(13),z=n(30),Q=n(31),q=JSON.parse(localStorage.getItem("user")),$=q?{loggedIn:!0,user:q}:{};var H=Object(J.c)({authentication:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return{loggingIn:!0,user:t.user};case f:return{loggedIn:!0,user:t.user};case m:return{loggedIn:!1,error:t.error};case p:return{};default:return e}},users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:return{loading:!0};case v:return{loading:!1,items:t.users};case S:return{error:t.error};default:return e}},blogs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E:return{loading:!0};case L:return{loading:!1,items:t.blogs};case y:return{error:t.error};case w:return{loading:!0};case I:return{loading:!1,item:t.blogs};case N:return{error:t.error};default:return e}}}),W=Object(Q.createLogger)(),K=Object(J.d)(H,Object(J.a)(z.a,W));s.a.render(Object(r.jsx)(g.a,{store:K,children:Object(r.jsx)(k,{})}),document.getElementById("root")),P()}},[[50,1,2]]]);
//# sourceMappingURL=main.71c269d4.chunk.js.map